{"version":3,"sources":["serviceWorker.js","common/customerSession.js","common/Navbar.js","common/helperDAO.js","common/urls.js","routes/users/usersDAO.js","routes/users/Users.js","routes/cart/cartDAO.js","common/OrderItem.js","common/sorting.js","common/Alert.js","routes/cart/Cart.js","routes/users/User.js","routes/products/productsDAO.js","routes/products/Product.js","common/InputFields.js","routes/login/sessionDAO.js","routes/login/sessionActions.js","common/emailValidation.js","routes/login/Signup.js","routes/login/Login.js","routes/orders/ordersDAO.js","routes/orders/Order.js","routes/products/grid/GridItem.js","routes/products/grid/GridRow.js","routes/products/Products.js","common/systemHealthDAO.js","Loading.js","App.js","routes/orders/Orders.js","routes/orders/MyOrders.js","routes/login/sessionReducer.js","appReducer.js","routes/login/Logout.js","routes/products/ProductCreation.js","index.js","routes/orders/AllOrders.js","routes/error/Error404.js","store.js"],"names":["Boolean","window","location","hostname","match","SESSION_ITEMS","isLoggedIn","sessionCustomer","id","email","role","Navbar","connect","state","Object","objectSpread","sessionReducer","_ref","react_default","a","createElement","className","href","Fragment","react_router_dom","to","concat","doGet","url","fetch","method","headers","Accept","then","handleResponse","doPost","body","JSON","stringify","Content-Type","response","ok","json","console","log","status","API_GATEWAY_URL","URLS","CUSTOMERS_WS","PRODUCTS_WS","ORDERS_WS","CARTS_WS","fetchUsers","catch","e","getUser","Users","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","users","loadUsers","setState","length","scope","map","user","key","Users_UserRow","React","Component","UserRow","fullName","date","getCartUrl","customerId","getCart","updateCartItem","cartItem","incrementCartItem","checkoutCart","OrderItem","orderItem","onChange","disabled","readOnly","totalItemPrice","productDto","price","quantity","toFixed","src","imageUrl","name","OrderItem_QuantityDropdown","QuantityDropdown","_ref2","value","toConsumableArray","Array","keys","x","sortOrderItems","orderItems","sort","oi1","oi2","localeCompare","Alert","text","hideAlert","type","data-dismiss","aria-label","onClick","aria-hidden","SuccessAlert","Alert_Alert","ErrorAlert","_ref3","resetAlert","show","count","incrementAlert","alert","showSuccessAlert","alerts","showAlert","showErrorAlert","updateAlert","hideSuccessAlert","hideErrorAlert","func","updatedAlerts","CartComponent","cart","undefined","loading","createOrder","success","error","updateItem","order","item","event","target","saveCartState","updateUpdateItemAlert","finally","calculateTotalPrice","items","reduce","acc","loadCart","orderItemDtos","updateCreateOrderAlert","isCartEmpty","alertFunction","alertType","_this2","_this$state","Alert_SuccessAlert","Alert_ErrorAlert","OrderItem_OrderItem","colSpan","Cart","User","loadUser","params","User_FieldView","label","address","country","FieldView","fetchProducts","getProduct","createProduct","product","ProductComponent","loadProduct","addProduct","alt","dangerouslySetInnerHTML","__html","description","Product","TextInput","fieldName","InputFields_FieldInput","PasswordInput","FieldInput","placeholder","htmlFor","TextAreaInput","_ref4","login","customer","signup","saveSession","validateEmail","test","String","toLowerCase","SignupComponent","password","repeatPassword","defineProperty","validateForm","InputFields_TextInput","InputFields_PasswordInput","mapDispatchToProps","Signup","LoginComponent","aria-describedby","Login","fetchOrders","getOrder","fetchOrderEvents","Order","orderId","loadOrder","amount","Order_OrderEvents","OrderEvents","orderEvents","loadOrderEvents","orderEvent","LinkToProduct","children","GridItem","GridItem_LinkToProduct","GridRow","productsRow","GridItem_GridItem","toMatrix","array","numCols","matrix","i","rowNumber","Math","floor","push","addElementToCell","ProductsComponent","products","loadProducts","grid","gridRow","GridRow_GridRow","Products","fetchSystemHealth","Loading","App","systemStatus","initialTimeoutPassed","loadSystemStatus","isSystemUp","services","service","setTimeout","Loading_Loading","Orders","orders","loadOrders","title","Orders_OrderRow","OrderRow","MyOrders","Orders_Orders","initialState","localStorage","getItem","appReducer","combineReducers","prevState","arguments","action","setItem","removeItem","removeSession","Logout","ProductCreationComponent","InputFields_TextAreaInput","ProductCreation","routing","react_router","path","component","exact","ReactDOM","render","es","store","createStore","applyMiddleware","thunk","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f651fbfa.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                        'worker. To learn more, visit https://bit.ly/CRA-PWA'\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all ' +\n                                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.');\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch(error => {\n            console.error('Error during service worker registration:', error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type');\n            if (\n                response.status === 404 ||\n                (contentType != null && contentType.indexOf('javascript') === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log(\n                'No internet connection found. App is running in offline mode.'\n            );\n        });\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready.then(registration => {\n            registration.unregister();\n        });\n    }\n}\n","const SESSION_ITEMS = {\n    ID: 'id',\n    EMAIL: 'email',\n    ROLE: 'role'\n};\n\nconst saveCustomerSession = customer => {\n    customer.id && localStorage.setItem(SESSION_ITEMS.ID, customer.id);\n    customer.email && localStorage.setItem(SESSION_ITEMS.EMAIL, customer.email);\n    customer.role && localStorage.setItem(SESSION_ITEMS.ROLE, customer.role);\n};\n\nconst removeCustomerSession = () => {\n    localStorage.removeItem(SESSION_ITEMS.ID);\n    localStorage.removeItem(SESSION_ITEMS.EMAIL);\n    localStorage.removeItem(SESSION_ITEMS.ROLE);\n};\n\nconst loadCustomerSession = () => ({\n    id: localStorage.getItem(SESSION_ITEMS.ID),\n    email: localStorage.getItem(SESSION_ITEMS.EMAIL),\n    role: localStorage.getItem(SESSION_ITEMS.ROLE)\n});\n\nconst isLoggedIn = sessionCustomer => sessionCustomer && sessionCustomer.id &&\n    sessionCustomer.email && sessionCustomer.role;\n\nexport {saveCustomerSession, removeCustomerSession, loadCustomerSession, isLoggedIn}","import React from 'react';\nimport {Link} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\nimport {isLoggedIn} from \"./customerSession\";\n\nconst NavbarComponent = ({sessionCustomer}) =>\n    <nav className=\"navbar navbar-expand-md navbar-dark bg-dark\">\n        <a href=\"/\" className=\"navbar-brand d-flex w-50 mr-auto\">Boardgames online shop</a>\n        <div className=\"navbar-collapse collapse w-100\" id=\"collapsingNavbar3\">\n            <ul className=\"nav navbar-nav ml-auto w-100 justify-content-end\">\n                {sessionCustomer.role === 'ADMIN' &&\n                <React.Fragment>\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to=\"/users\">Users</Link>\n                    </li>\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to=\"/orders\">All customer orders</Link>\n                    </li>\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to=\"/products/create\">Create Product</Link>\n                    </li>\n                </React.Fragment>\n                }\n                {isLoggedIn(sessionCustomer) &&\n                <React.Fragment>\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to={`/users/${sessionCustomer.id}`}>Profile</Link>\n                    </li>\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to=\"/cart\">Cart</Link>\n                    </li>\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to=\"/myOrders\">My Orders</Link>\n                    </li>\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to=\"/logout\">Log out</Link>\n                    </li>\n                </React.Fragment>\n                }\n                {!isLoggedIn(sessionCustomer) &&\n                <li className=\"nav-item\">\n                    <Link className=\"nav-link\" to=\"/login\">Log in</Link>\n                </li>\n                }\n            </ul>\n        </div>\n    </nav>;\n\n\nconst mapStateToProps = state => ({\n    ...state.sessionReducer\n});\n\nconst Navbar = connect(mapStateToProps)(NavbarComponent);\n\nexport {Navbar};","const doGet = url => fetch(url, {\n    method: 'GET',\n    headers: {\n        Accept: 'application/json'\n    }\n})\n    .then(handleResponse);\n\nconst doPost = (url, body) => fetch(url, {\n    method: 'POST',\n    body: JSON.stringify(body),\n    headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n    }\n})\n    .then(handleResponse);\n\nconst doPut = (url, body) => fetch(url, {\n    method: 'PUT',\n    body: JSON.stringify(body),\n    headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n    }\n})\n    .then(handleResponse);\n\nconst handleResponse = response => {\n    if (response.ok) {\n        return response.json();\n    }\n\n    console.log(`Response not ok: ${response.status}`);\n    throw '';\n};\n\nexport {doGet, doPost, doPut}","const API_GATEWAY_URL = process.env.NODE_ENV === 'production' ?\n    'https://api-gateway-ws.herokuapp.com' : 'http://localhost:7000';\n\nconst URLS = {\n    CUSTOMERS_WS: `${API_GATEWAY_URL}/customers-ws`,\n    PRODUCTS_WS: `${API_GATEWAY_URL}/products-ws`,\n    ORDERS_WS: `${API_GATEWAY_URL}/orders-ws`,\n    CARTS_WS: `${API_GATEWAY_URL}/carts-ws`,\n};\n\nexport {URLS, API_GATEWAY_URL};","import {doGet} from \"../../common/helperDAO\";\nimport {URLS} from \"../../common/urls\";\n\nconst fetchUsers = () => doGet(`${URLS.CUSTOMERS_WS}/customers/`)\n    .catch(e => {\n        console.log(`Error when retrieving users: ${e}`);\n        throw '';\n    });\n\nconst getUser = id => doGet(`${URLS.CUSTOMERS_WS}/customers/${id}`)\n    .catch(e => {\n        console.log(`Error when retrieving user ${id}: ${e}`);\n        throw '';\n    });\n\nexport {fetchUsers, getUser};","import React from 'react';\nimport {fetchUsers} from \"./usersDAO\";\nimport {Link} from \"react-router-dom\";\n\nclass Users extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.loadUsers();\n    }\n\n    state = {\n        users: []\n    };\n\n    loadUsers = () => fetchUsers()\n        .then(users => this.setState({users}));\n\n    render() {\n        return (\n            <div className=\"container content-padding\">\n                <div className=\"row justify-content-center\">\n                    <div className=\"col-12\">\n                        <h1>Users</h1>\n                        {this.state.users && this.state.users.length > 0 &&\n                        <table className=\"table\">\n                            <thead className=\"thead-light text-center\">\n                            <tr>\n                                <th scope=\"col\">User id</th>\n                                <th scope=\"col\">Email address</th>\n                                <th scope=\"col\">Full name</th>\n                                <th scope=\"col\">Registration date</th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            {this.state.users.map((user, key) => <UserRow user={user} key={key}/>)}\n                            </tbody>\n                        </table>\n                        }\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst UserRow = ({user}) =>\n    <tr className=\"text-center\">\n        <th scope=\"row\">{user.id}</th>\n        <td><Link to={`/users/${user.id}`}>{user.email}</Link></td>\n        <td>{user.fullName}</td>\n        <td>{user.date}</td>\n    </tr>;\n\nexport {Users};","import {doGet, doPost} from \"../../common/helperDAO\";\nimport {URLS} from \"../../common/urls\";\n\nconst getCartUrl = customerId => `${URLS.CARTS_WS}/customers/${customerId}/carts/current`;\n\nconst getCart = customerId => doGet(getCartUrl(customerId))\n    .catch(e => {\n        console.log(`Error when retrieving cart for user ${customerId}: ${e}`);\n        throw '';\n    });\n\nconst updateCartItem = (customerId, cartItem) => doPost(`${getCartUrl(customerId)}/items`, cartItem)\n    .catch(e => {\n        console.log(`Error when updating cart for user ${customerId}: ${e}`);\n        throw '';\n    });\n\nconst incrementCartItem = (customerId, cartItem) => doPost(`${getCartUrl(customerId)}/items/increment`, cartItem)\n    .catch(e => {\n        console.log(`Error when updating cart for user ${customerId}: ${e}`);\n        throw '';\n    });\n\nconst checkoutCart = customerId => doPost(`${URLS.CARTS_WS}/customers/${customerId}/carts/current/checkout`, {})\n    .catch(e => {\n        console.log(`Error during checkout for user ${customerId}: ${e}`);\n        throw '';\n    });\n\nexport {getCart, updateCartItem, incrementCartItem, checkoutCart};","import React from 'react';\nimport {Link} from \"react-router-dom\";\n\n\nconst OrderItem = ({orderItem, onChange, disabled, readOnly}) => {\n    const totalItemPrice = (orderItem.productDto.price * orderItem.quantity).toFixed(2);\n\n    return (\n        <tr className=\"text-center cart-item\">\n            <td><Link to={`/products/${orderItem.productDto.id}`}><img src={orderItem.productDto.imageUrl}/></Link></td>\n            <td className=\"align-middle\">{orderItem.productDto.name}</td>\n            <td className=\"align-middle text-right\">{orderItem.productDto.price} €</td>\n            <td className=\"align-middle\">\n                {readOnly ? orderItem.quantity :\n                    <QuantityDropdown quantity={orderItem.quantity}\n                                      onChange={onChange}\n                                      disabled={disabled}/>\n                }\n            </td>\n            <td className=\"align-middle text-right\">{totalItemPrice} €</td>\n        </tr>\n    );\n};\n\nconst QuantityDropdown = ({quantity, onChange, disabled}) =>\n    <select onChange={onChange} disabled={disabled} value={quantity}>\n        {[...Array(11).keys()]\n            .map(x => <option value={x} key={x}>{x}</option>)}\n    </select>;\n\nexport {OrderItem};","const sortOrderItems = orderItems =>\n    orderItems && orderItems.sort((oi1, oi2) => oi1.productDto.id.localeCompare(oi2.productDto.id));\n\nexport {sortOrderItems}","import React from 'react';\n\nconst Alert = ({text, hideAlert, type}) =>\n    <div className={`alert alert-${type} alert-dismissible`} role=\"alert\">\n        <div>{text}</div>\n        <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={hideAlert}>\n            <span aria-hidden=\"true\">&times;</span>\n        </button>\n    </div>;\n\nconst SuccessAlert = ({text, hideAlert}) => <Alert text={text} hideAlert={hideAlert} type='success'/>;\n\nconst ErrorAlert = ({text, hideAlert}) => <Alert text={text} hideAlert={hideAlert} type='danger'/>;\n\nconst resetAlert = () => ({\n    show: false,\n    count: 0\n});\n\nconst incrementAlert = alert => ({\n    show: true,\n    count: alert.count + 1\n});\n\nconst showSuccessAlert = alerts => showAlert(alerts, 'success');\n\nconst showErrorAlert = alerts => showAlert(alerts, 'error');\n\nconst showAlert = (alerts, type) => updateAlert(alerts, type, incrementAlert);\n\nconst hideSuccessAlert = alerts => hideAlert(alerts, 'success');\n\nconst hideErrorAlert = alerts => hideAlert(alerts, 'error');\n\nconst hideAlert = (alerts, type) => updateAlert(alerts, type, resetAlert);\n\nconst updateAlert = (alerts, type, func) => {\n    const updatedAlerts = {...alerts};\n\n    updatedAlerts[type] = func(alerts[type]);\n\n    return updatedAlerts;\n};\n\nexport {SuccessAlert, ErrorAlert, resetAlert, showSuccessAlert, showErrorAlert, hideSuccessAlert, hideErrorAlert};","import React from 'react';\nimport {checkoutCart, getCart, updateCartItem} from \"./cartDAO\";\nimport {OrderItem} from \"../../common/OrderItem\";\nimport {sortOrderItems} from \"../../common/sorting\";\nimport {\n    ErrorAlert,\n    hideErrorAlert,\n    hideSuccessAlert,\n    resetAlert,\n    showErrorAlert,\n    showSuccessAlert,\n    SuccessAlert\n} from \"../../common/Alert\";\nimport {connect} from \"react-redux\";\n\nclass CartComponent extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.loadCart();\n    }\n\n    state = {\n        cart: undefined,\n        loading: false,\n        alerts: {\n            createOrder: {\n                success: resetAlert(),\n                error: resetAlert()\n            },\n            updateItem: {\n                success: resetAlert(),\n                error: resetAlert()\n            }\n        },\n        order: {}\n    };\n\n    onChange = item => event => {\n        this.setState({loading: true});\n\n        const cartItem = {\n            productDto: item,\n            quantity: event.target.value\n        };\n\n        updateCartItem(this.props.sessionCustomer.id, cartItem)\n            .then(cart => {\n                this.saveCartState(cart);\n                this.updateUpdateItemAlert(showSuccessAlert);\n            })\n            .catch(() => this.updateUpdateItemAlert(showErrorAlert))\n            .finally(() => this.setState({loading: false}));\n    };\n\n    calculateTotalPrice = items => items\n        .reduce((acc, item) => acc + item.quantity * item.productDto.price, 0);\n\n    loadCart = () => getCart(this.props.sessionCustomer.id)\n        .then(this.saveCartState);\n\n    saveCartState = cart => {\n        cart.orderItemDtos = sortOrderItems(cart.orderItemDtos);\n        this.setState({cart});\n    };\n\n    createOrder = () => {\n        this.setState({loading: true});\n\n        checkoutCart(this.props.sessionCustomer.id)\n            .then(order => {\n                this.setState({cart: {}, order});\n                this.updateCreateOrderAlert(showSuccessAlert);\n            })\n            .catch(() => this.updateCreateOrderAlert(showErrorAlert))\n            .finally(() => this.setState({loading: false}));\n    };\n\n    isCartEmpty = () => !(this.state.cart && this.state.cart.orderItemDtos);\n\n    updateCreateOrderAlert = alertFunction => this.updateAlert('createOrder', alertFunction);\n\n    updateUpdateItemAlert = alertFunction => this.updateAlert('updateItem', alertFunction);\n\n    updateAlert = (alertType, alertFunction) => {\n        const alerts = {...this.state.alerts};\n\n        alerts[alertType] = alertFunction(this.state.alerts[alertType]);\n\n        this.setState({alerts: alerts});\n    };\n\n    render() {\n        const {alerts, order} = this.state;\n\n        return (\n            <React.Fragment>\n                {alerts.createOrder.success.show &&\n                <SuccessAlert\n                    text={`(${alerts.createOrder.success.count}) The order ${order.id} has been created successfully!`}\n                    hideAlert={() => this.updateCreateOrderAlert(hideSuccessAlert)}/>\n                }\n                {alerts.createOrder.error.show &&\n                <ErrorAlert text={`(${alerts.createOrder.error.count}) The order has not been created due to an error.`}\n                            hideAlert={() => this.updateCreateOrderAlert(hideErrorAlert)}/>\n                }\n                {alerts.updateItem.success.show &&\n                <SuccessAlert text={`(${alerts.updateItem.success.count}) The cart has been updated successfully!`}\n                              hideAlert={() => this.updateUpdateItemAlert(hideSuccessAlert)}/>\n                }\n                {alerts.updateItem.error.show &&\n                <ErrorAlert text={`(${alerts.updateItem.error.count}) The cart has not been updated due to an error.`}\n                            hideAlert={() => this.updateUpdateItemAlert(hideErrorAlert)}/>\n                }\n                <div className=\"container content-padding\">\n                    <div className=\"row justify-content-center\">\n                        <div className=\"col-12\">\n                            <div className=\"d-flex\">\n                                <div className=\"p-2\">\n                                    <h1>Cart</h1>\n                                </div>\n                                <div className=\"ml-auto p-2\">\n                                    <button type=\"button\"\n                                            className=\"btn btn-primary\"\n                                            onClick={this.createOrder}\n                                            disabled={this.isCartEmpty() || this.state.loading}>\n                                        Create order\n                                    </button>\n                                </div>\n                            </div>\n                            {!this.isCartEmpty() &&\n                            <table className=\"table\">\n                                <thead className=\"thead-light text-center\">\n                                <tr>\n                                    <th scope=\"col\">Product</th>\n                                    <th scope=\"col\">Name</th>\n                                    <th scope=\"col\">Price</th>\n                                    <th scope=\"col\">Quantity</th>\n                                    <th scope=\"col\">Total price</th>\n                                </tr>\n                                </thead>\n                                <tbody>\n                                {this.state.cart.orderItemDtos.map((cartItem, key) =>\n                                    <OrderItem orderItem={cartItem}\n                                               key={key}\n                                               onChange={this.onChange(cartItem.productDto)}\n                                               disabled={this.state.loading}\n                                               readOnly={false}/>\n                                )}\n                                <tr>\n                                    <td colSpan=\"5\" className=\"text-right\">\n                                        {this.calculateTotalPrice(this.state.cart.orderItemDtos).toFixed(2)} €\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </table>\n                            }\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    ...state.sessionReducer\n});\n\nconst Cart = connect(mapStateToProps)(CartComponent);\n\nexport {Cart};","import React from 'react';\nimport {getUser} from \"./usersDAO\";\n\nclass User extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.loadUser();\n    }\n\n    state = {\n        user: undefined\n    };\n\n    loadUser = () => getUser(this.props.match.params.id)\n        .then(user => this.setState({user}));\n\n    render() {\n        const {user} = this.state;\n\n        return (\n            <div className=\"container content-padding\">\n                <div className=\"row justify-content-center\">\n                    <div className=\"col-12\">\n                        <h1>User {this.props.match.params.id}</h1>\n                        {user &&\n                        <div className=\"col-12\">\n                            <FieldView label=\"User id\" value={user.id}/>\n                            <FieldView label=\"Email address\" value={user.email}/>\n                            <FieldView label=\"Full name\" value={user.fullName}/>\n                            <FieldView label=\"Address\" value={user.address}/>\n                            <FieldView label=\"Country\" value={user.country}/>\n                            <FieldView label=\"Registration date\" value={user.date}/>\n                        </div>\n                        }\n                    </div>\n                </div>\n            </div>\n        );\n    };\n}\n\nconst FieldView = ({label, value}) =>\n    <div className=\"form-group row\">\n        <label className=\"col-sm-3 col-form-label\">{label}</label>\n        <label className=\"col-sm-9 col-form-label\">{value}</label>\n    </div>;\n\nexport {User};","import {URLS} from \"../../common/urls\";\nimport {doGet, doPost} from \"../../common/helperDAO\";\n\nconst fetchProducts = () => doGet(`${URLS.PRODUCTS_WS}/products/`)\n    .catch(e => {\n        console.log(`Error when retrieving productss: ${e}`);\n        throw '';\n    });\n\nconst getProduct = id => doGet(`${URLS.PRODUCTS_WS}/products/${id}`)\n    .catch(e => {\n        console.log(`Error when retrieving product ${id}: ${e}`);\n        throw '';\n    });\n\nconst createProduct = product => doPost(`${URLS.PRODUCTS_WS}/products/`, product)\n    .catch(e => {\n        console.log(`Error when creating product ${product.name}: ${e}`);\n        throw '';\n    });\n\nexport {fetchProducts, getProduct, createProduct};","import React from 'react';\nimport {getProduct} from \"./productsDAO\";\nimport {incrementCartItem} from \"../cart/cartDAO\";\nimport {\n    ErrorAlert,\n    hideErrorAlert,\n    hideSuccessAlert,\n    resetAlert,\n    showErrorAlert,\n    showSuccessAlert,\n    SuccessAlert\n} from \"../../common/Alert\";\nimport {connect} from \"react-redux\";\nimport {isLoggedIn} from \"../../common/customerSession\";\n\nclass ProductComponent extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.loadProduct();\n    }\n\n    state = {\n        product: undefined,\n        loading: false,\n        alerts: {\n            success: resetAlert(),\n            error: resetAlert()\n        }\n    };\n\n    loadProduct = () => getProduct(this.props.match.params.id)\n        .then(product => this.setState({product}));\n\n    addProduct = () => {\n        this.setState({loading: true});\n\n        incrementCartItem(this.props.sessionCustomer.id, this.state.product)\n            .then(this.showSuccessAlert)\n            .catch(this.showErrorAlert)\n            .finally(() => this.setState({loading: false}));\n    };\n\n    showSuccessAlert = () => this.setState({alerts: showSuccessAlert(this.state.alerts)});\n\n    showErrorAlert = () => this.setState({alerts: showErrorAlert(this.state.alerts)});\n\n    hideSuccessAlert = () => this.setState({alerts: hideSuccessAlert(this.state.alerts)});\n\n    hideErrorAlert = () => this.setState({alerts: hideErrorAlert(this.state.alerts)});\n\n    isLoggedIn = () => isLoggedIn(this.props.sessionCustomer);\n\n    render() {\n        const {product, alerts} = this.state;\n\n        return (\n            <React.Fragment>\n                {alerts.success.show &&\n                <SuccessAlert text={`(${alerts.success.count}) The product has been added successfully!`}\n                              hideAlert={this.hideSuccessAlert}/>\n                }\n                {alerts.error.show &&\n                <ErrorAlert text={`(${alerts.error.count}) The product has not been added due to an error.`}\n                            hideAlert={this.hideErrorAlert}/>\n                }\n                <div className=\"container content-padding\">\n                    {product &&\n                    <div className=\"row justify-content-center\">\n                        <div className=\"col-4 text-center\">\n                            <img src={product.imageUrl} alt=\"\"/>\n                        </div>\n                        <div className=\"col-4 d-flex align-items-start flex-column\">\n                            <div className=\"mb-auto p-2\">\n                                <h1 className=\"product-info-padding\">{product.name}</h1>\n                                <h5 className=\"product-info-padding\">{product.price} €</h5>\n                                <div dangerouslySetInnerHTML={{__html: product.description}}/>\n                            </div>\n                            <div className=\"p-2\">\n                                {this.isLoggedIn() &&\n                                <button type=\"button\"\n                                        className=\"btn btn-primary\"\n                                        disabled={this.state.loading || !this.isLoggedIn()}\n                                        onClick={this.addProduct}>\n                                    Add to cart\n                                </button>\n                                }\n                            </div>\n                        </div>\n                    </div>\n                    }\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    ...state.sessionReducer\n});\n\nconst Product = connect(mapStateToProps)(ProductComponent);\n\nexport {Product};","import React from \"react\";\n\n\nconst TextInput = ({fieldName, label, onChange, disabled}) =>\n    <FieldInput fieldName={fieldName} label={label} onChange={onChange} disabled={disabled} type=\"text\"/>;\n\nconst PasswordInput = ({fieldName, label, onChange, disabled}) =>\n    <FieldInput fieldName={fieldName} label={label} onChange={onChange} disabled={disabled} type=\"password\"/>;\n\nconst FieldInput = ({fieldName, label, type, placeholder, onChange, disabled}) =>\n    <div className=\"form-group row\">\n        <label htmlFor={fieldName} className=\"col-sm-3 col-form-label\">{label}</label>\n        <div className=\"col-sm-9\">\n            <input type={type}\n                   className=\"form-control\"\n                   id={fieldName}\n                   onChange={onChange}\n                   disabled={disabled}\n                   placeholder={placeholder}/>\n        </div>\n    </div>;\n\nconst TextAreaInput = ({fieldName, label, onChange, disabled}) =>\n    <div className=\"form-group row\">\n        <label htmlFor={fieldName} className=\"col-sm-3 col-form-label\">{label}</label>\n        <div className=\"col-sm-9\">\n            <textarea className=\"form-control\"\n                      id={fieldName}\n                      onChange={onChange}\n                      disabled={disabled}/>\n        </div>\n    </div>;\n\nexport {TextInput, PasswordInput, TextAreaInput};","import {doPost} from \"../../common/helperDAO\";\nimport {URLS} from \"../../common/urls\";\n\nconst login = customer => doPost(`${URLS.CUSTOMERS_WS}/login/`, customer)\n    .catch(e => {\n        console.log(`Error when loging in user ${customer.email}: ${e}`);\n        throw '';\n    });\n\nconst signup = customer => doPost(`${URLS.CUSTOMERS_WS}/signup/`, customer)\n    .catch(e => {\n        console.log(`Error when registering user ${customer.email}: ${e}`);\n        throw '';\n    });\n\nexport {login, signup};","const SAVE_SESSION_CUSTOMER = 'SAVE_SESSION_CUSTOMER';\nconst REMOVE_SESSION_CUSTOMER = 'REMOVE_SESSION_CUSTOMER';\n\nconst saveSession = sessionCustomer => ({\n    type: SAVE_SESSION_CUSTOMER,\n    sessionCustomer\n});\n\nconst removeSession = () => ({\n    type: REMOVE_SESSION_CUSTOMER\n});\n\nexport {saveSession, removeSession, SAVE_SESSION_CUSTOMER, REMOVE_SESSION_CUSTOMER};","const validateEmail = email => {\n    const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n};\n\nexport {validateEmail};","import React from 'react';\nimport {PasswordInput, TextInput} from \"../../common/InputFields\";\nimport {\n    ErrorAlert,\n    hideErrorAlert,\n    hideSuccessAlert,\n    resetAlert,\n    showErrorAlert,\n    showSuccessAlert,\n    SuccessAlert\n} from \"../../common/Alert\";\nimport {signup} from \"./sessionDAO\";\nimport {isLoggedIn} from \"../../common/customerSession\";\nimport {saveSession} from \"./sessionActions\";\nimport {connect} from \"react-redux\";\nimport {validateEmail} from \"../../common/emailValidation\";\n\nclass SignupComponent extends React.Component {\n\n    state = {\n        customer: {\n            email: '',\n            password: '',\n            repeatPassword: '',\n            fullName: '',\n            address: '',\n            country: ''\n        },\n        alerts: {\n            success: resetAlert(),\n            error: resetAlert()\n        }\n    };\n\n    signup = () => signup(this.state.customer)\n        .then(customer => {\n            this.props.saveSession(customer);\n            this.showSuccessAlert();\n        })\n        .catch(this.showErrorAlert);\n\n    onChange = event => this.setState({\n        customer: {\n            ...this.state.customer,\n            [event.target.id]: event.target.value\n        }\n    });\n\n    validateForm = () => !!this.state.customer.email &&\n        !!this.state.customer.password &&\n        this.state.customer.password === this.state.customer.repeatPassword &&\n        !!this.state.customer.fullName &&\n        !!this.state.customer.address &&\n        !!this.state.customer.country &&\n        validateEmail(this.state.customer.email) &&\n        !this.isLoggedIn();\n\n    showSuccessAlert = () => this.setState({alerts: showSuccessAlert(this.state.alerts)});\n\n    showErrorAlert = () => this.setState({alerts: showErrorAlert(this.state.alerts)});\n\n    hideSuccessAlert = () => this.setState({alerts: hideSuccessAlert(this.state.alerts)});\n\n    hideErrorAlert = () => this.setState({alerts: hideErrorAlert(this.state.alerts)});\n\n    isLoggedIn = () => isLoggedIn(this.props.sessionCustomer);\n\n    render() {\n        const {alerts} = this.state;\n\n        return (\n            <React.Fragment>\n                {!alerts.success.show && this.isLoggedIn() &&\n                <SuccessAlert text={`You have already been logged in successfully!`}\n                              hideAlert={this.hideSuccessAlert}/>\n                }\n                {alerts.success.show &&\n                <SuccessAlert text={`(${alerts.success.count}) The customer has been registered successfully!`}\n                              hideAlert={this.hideSuccessAlert}/>\n                }\n                {alerts.error.show &&\n                <ErrorAlert text={`(${alerts.error.count}) The customer has not been registered due to an error.`}\n                            hideAlert={this.hideErrorAlert}/>\n                }\n                <div className=\"container content-padding\">\n                    <div className=\"row justify-content-center\">\n                        <div className=\"col-8\">\n                            <form>\n                                <TextInput fieldName=\"email\"\n                                           label=\"Email address\"\n                                           disabled={this.isLoggedIn()}\n                                           onChange={this.onChange}/>\n                                <PasswordInput fieldName=\"password\"\n                                               label=\"Password\"\n                                               disabled={this.isLoggedIn()}\n                                               onChange={this.onChange}/>\n                                <PasswordInput fieldName=\"repeatPassword\"\n                                               label=\"Repeat password\"\n                                               disabled={this.isLoggedIn()}\n                                               onChange={this.onChange}/>\n                                <TextInput fieldName=\"fullName\"\n                                           label=\"Full name\"\n                                           disabled={this.isLoggedIn()}\n                                           onChange={this.onChange}/>\n                                <TextInput fieldName=\"address\"\n                                           label=\"Address\"\n                                           disabled={this.isLoggedIn()}\n                                           onChange={this.onChange}/>\n                                <TextInput fieldName=\"country\"\n                                           label=\"Country\"\n                                           disabled={this.isLoggedIn()}\n                                           onChange={this.onChange}/>\n                                <div className=\"form-group row\">\n                                    <div className=\"col-sm-10\">\n                                        <button type=\"button\"\n                                                onClick={this.signup}\n                                                disabled={!this.validateForm()}\n                                                className=\"btn btn-primary\">\n                                            Sign up\n                                        </button>\n                                    </div>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    ...state.sessionReducer\n});\n\nconst mapDispatchToProps = {saveSession};\n\nconst Signup = connect(mapStateToProps, mapDispatchToProps)(SignupComponent);\n\nexport {Signup};","import React from 'react';\nimport {connect} from 'react-redux';\nimport {Link} from \"react-router-dom\";\nimport {login} from \"./sessionDAO\";\nimport {\n    ErrorAlert,\n    hideErrorAlert,\n    hideSuccessAlert,\n    resetAlert,\n    showErrorAlert,\n    showSuccessAlert,\n    SuccessAlert\n} from \"../../common/Alert\";\nimport {isLoggedIn} from \"../../common/customerSession\";\nimport {saveSession} from \"./sessionActions\";\nimport {validateEmail} from \"../../common/emailValidation\";\n\nclass LoginComponent extends React.Component {\n\n    state = {\n        customer: {\n            email: '',\n            password: ''\n        },\n        alerts: {\n            success: resetAlert(),\n            error: resetAlert()\n        }\n    };\n\n    login = () => login(this.state.customer)\n        .then(customer => {\n            this.props.saveSession(customer);\n            this.showSuccessAlert();\n        })\n        .catch(this.showErrorAlert);\n\n    onChange = event => this.setState({\n        customer: {\n            ...this.state.customer,\n            [event.target.id]: event.target.value\n        }\n    });\n\n    validateForm = () => !!this.state.customer &&\n        !!this.state.customer.email &&\n        !!this.state.customer.password &&\n        validateEmail(this.state.customer.email) &&\n        !this.isLoggedIn();\n\n    showSuccessAlert = () => this.setState({alerts: showSuccessAlert(this.state.alerts)});\n\n    showErrorAlert = () => this.setState({alerts: showErrorAlert(this.state.alerts)});\n\n    hideSuccessAlert = () => this.setState({alerts: hideSuccessAlert(this.state.alerts)});\n\n    hideErrorAlert = () => this.setState({alerts: hideErrorAlert(this.state.alerts)});\n\n    isLoggedIn = () => isLoggedIn(this.props.sessionCustomer);\n\n    render() {\n        const {alerts} = this.state;\n\n        return (\n            <React.Fragment>\n                {!alerts.success.show && this.isLoggedIn() &&\n                <SuccessAlert text={`You have already been logged in successfully!`}\n                              hideAlert={this.hideSuccessAlert}/>\n                }\n                {alerts.success.show &&\n                <SuccessAlert text={`(${alerts.success.count}) You have been logged in successfully!`}\n                              hideAlert={this.hideSuccessAlert}/>\n                }\n                {alerts.error.show &&\n                <ErrorAlert text={`(${alerts.error.count}) You have not been logged in due to an error.`}\n                            hideAlert={this.hideErrorAlert}/>\n                }\n                <div className=\"container content-padding\">\n                    <div className=\"row justify-content-center\">\n                        <div className=\"col-4\">\n                            <form>\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"email\">Email address</label>\n                                    <input type=\"email\"\n                                           className=\"form-control\"\n                                           id=\"email\"\n                                           aria-describedby=\"emailHelp\"\n                                           disabled={this.isLoggedIn()}\n                                           onChange={this.onChange}\n                                           placeholder=\"Enter email\"/>\n                                </div>\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"password\">Password</label>\n                                    <input type=\"password\"\n                                           className=\"form-control\"\n                                           id=\"password\"\n                                           disabled={this.isLoggedIn()}\n                                           onChange={this.onChange}\n                                           placeholder=\"Password\"/>\n                                </div>\n                                <button type=\"button\"\n                                        disabled={!this.validateForm()}\n                                        onClick={this.login}\n                                        className=\"btn btn-primary btn-block\">\n                                    Log in\n                                </button>\n                            </form>\n                        </div>\n                    </div>\n                    <div className=\"row justify-content-center login-separator\">\n                        <div className=\"col-1\">\n                            <hr/>\n                        </div>\n                        <div className=\"col-auto\">or</div>\n                        <div className=\"col-1\">\n                            <hr/>\n                        </div>\n                    </div>\n                    <div className=\"row justify-content-center\">\n                        <div className=\"col-4\">\n                            <Link to=\"/signup\">\n                                <button type=\"button\"\n                                        className=\"btn btn-primary btn-block\"\n                                        disabled={this.isLoggedIn()}>\n                                    Sign up\n                                </button>\n                            </Link>\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    ...state.sessionReducer\n});\n\nconst mapDispatchToProps = {saveSession};\n\nconst Login = connect(mapStateToProps, mapDispatchToProps)(LoginComponent);\n\nexport {Login};","import {URLS} from \"../../common/urls\";\nimport {doGet} from \"../../common/helperDAO\";\n\nconst fetchOrders = () => doGet(`${URLS.ORDERS_WS}/orders/`)\n    .catch(e => {\n        console.log(`Error when retrieving orders: ${e}`);\n        throw '';\n    });\n\nconst getOrder = id => doGet(`${URLS.ORDERS_WS}/orders/${id}`)\n    .catch(e => {\n        console.log(`Error when retrieving order ${id}: ${e}`);\n        throw '';\n    });\n\nconst fetchCustomerOrders = customerId => doGet(`${URLS.ORDERS_WS}/customers/${customerId}/orders/`)\n    .catch(e => {\n        console.log(`Error when retrieving orders for customer ${customerId}: ${e}`);\n        throw '';\n    });\n\nconst fetchOrderEvents = id => doGet(`${URLS.ORDERS_WS}/orders/${id}/events`)\n    .catch(e => {\n        console.log(`Error when retrieving order events for order ${id}: ${e}`);\n        throw '';\n    });\n\n\nexport {fetchOrders, fetchCustomerOrders, getOrder, fetchOrderEvents};","import React from 'react';\nimport {OrderItem} from \"../../common/OrderItem\";\nimport {fetchOrderEvents, getOrder} from \"./ordersDAO\";\nimport {sortOrderItems} from \"../../common/sorting\";\n\nclass Order extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.loadOrder();\n    }\n\n    state = {\n        orderId: this.props.match.params.id,\n        order: undefined\n    };\n\n    loadOrder = () => getOrder(this.state.orderId)\n        .then(order => {\n            order.orderItemDtos = sortOrderItems(order.orderItemDtos);\n            this.setState({order});\n        });\n\n    render() {\n        return (\n            <div className=\"container content-padding\">\n                <div className=\"row justify-content-center\">\n                    <div className=\"col-12\">\n                        <h1>Order {this.state.orderId}</h1>\n                        {this.state.order && this.state.order.orderItemDtos &&\n                        <table className=\"table\">\n                            <thead className=\"thead-light text-center\">\n                            <tr>\n                                <th scope=\"col\">Product</th>\n                                <th scope=\"col\">Name</th>\n                                <th scope=\"col\">Price</th>\n                                <th scope=\"col\">Quantity</th>\n                                <th scope=\"col\">Total price</th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            {this.state.order.orderItemDtos.map((orderItem, key) =>\n                                <OrderItem orderItem={orderItem}\n                                           key={key}\n                                           readOnly={true}/>\n                            )}\n                            <tr>\n                                <td colSpan=\"5\" className=\"text-right\">\n                                    {this.state.order.amount} €\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                        }\n                        <OrderEvents orderId={this.state.orderId}/>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nclass OrderEvents extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.loadOrderEvents();\n    }\n\n    state = {\n        orderEvents: undefined\n    };\n\n    loadOrderEvents = () => fetchOrderEvents(this.props.orderId)\n        .then(orderEvents => this.setState({orderEvents}));\n\n    render() {\n        return (\n            <React.Fragment>\n                <h4>Status</h4>\n                {this.state.orderEvents &&\n                <table className=\"table\">\n                    <thead className=\"thead-light text-center\">\n                    <tr>\n                        <th scope=\"col\">Status</th>\n                        <th scope=\"col\">Date</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {this.state.orderEvents.map((orderEvent, key) =>\n                        <tr className=\"text-center cart-item\" key={`events_${key}`}>\n                            <td>{orderEvent.status}</td>\n                            <td>{orderEvent.date}</td>\n                        </tr>\n                    )}\n                    </tbody>\n                </table>\n                }\n            </React.Fragment>\n        );\n    }\n\n}\n\nexport {Order};","import React from 'react';\nimport {Link} from \"react-router-dom\";\n\nconst LinkToProduct = ({children, id}) => <Link to={`/products/${id}`}>{children}</Link>;\n\nconst GridItem = ({product, addProduct, disabled, show}) =>\n    <div className=\"col-6 col-md-2 text-center\">\n        <div className=\"grid-item\">\n            <div><LinkToProduct id={product.id}><img src={product.imageUrl} alt=\"\"/></LinkToProduct></div>\n            <LinkToProduct id={product.id}>{product.name}</LinkToProduct>\n            <div>{product.price} €</div>\n            {show &&\n            <button type=\"button\"\n                    className=\"btn btn-primary\"\n                    disabled={disabled}\n                    onClick={() => addProduct(product)}\n            >Add to cart\n            </button>\n            }\n        </div>\n    </div>;\n\nexport {GridItem};","import React from 'react';\nimport {GridItem} from \"./GridItem\";\n\nconst GridRow = ({productsRow, addProduct, disabled, show}) =>\n    <div className=\"row grid-row\">\n        {productsRow.map((product, key) => <GridItem product={product}\n                                                     addProduct={addProduct}\n                                                     disabled={disabled}\n                                                     show={show}\n                                                     key={key}/>)\n        }\n    </div>;\n\nexport {GridRow};","import React from 'react';\nimport {GridRow} from \"./grid/GridRow\";\nimport {fetchProducts} from \"./productsDAO\";\nimport {incrementCartItem} from \"../cart/cartDAO\";\nimport {\n    ErrorAlert,\n    hideErrorAlert,\n    hideSuccessAlert,\n    resetAlert,\n    showErrorAlert,\n    showSuccessAlert,\n    SuccessAlert\n} from \"../../common/Alert\";\nimport {connect} from \"react-redux\";\nimport {isLoggedIn} from \"../../common/customerSession\";\n\nconst toMatrix = (array, numCols) => {\n    if (!array)\n        return;\n\n    const addElementToCell = (array, x, i) => {\n        const rowNumber = Math.floor(i / numCols);\n\n        if (i % numCols === 0) {\n            array[rowNumber] = [];\n        }\n\n        array[rowNumber].push(x);\n    };\n\n    const matrix = [];\n\n    array.map((x, i) => addElementToCell(matrix, x, i));\n\n    return matrix;\n\n};\n\nclass ProductsComponent extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.loadProducts();\n    }\n\n    state = {\n        products: [],\n        loading: false,\n        alerts: {\n            success: resetAlert(),\n            error: resetAlert()\n        },\n    };\n\n    loadProducts = () => fetchProducts()\n        .then(products => this.setState({products}));\n\n\n    addProduct = product => {\n        this.setState({loading: true});\n\n        incrementCartItem(this.props.sessionCustomer.id, product)\n            .then(this.showSuccessAlert)\n            .catch(this.showErrorAlert)\n            .finally(() => this.setState({loading: false}));\n    };\n\n    showSuccessAlert = () => this.setState({alerts: showSuccessAlert(this.state.alerts)});\n\n    showErrorAlert = () => this.setState({alerts: showErrorAlert(this.state.alerts)});\n\n    hideSuccessAlert = () => this.setState({alerts: hideSuccessAlert(this.state.alerts)});\n\n    hideErrorAlert = () => this.setState({alerts: hideErrorAlert(this.state.alerts)});\n\n    isLoggedIn = () => isLoggedIn(this.props.sessionCustomer);\n\n    render() {\n        const grid = toMatrix(this.state.products, 6);\n        const {alerts} = this.state;\n\n        return (\n            this.state.products &&\n            <React.Fragment>\n                {alerts.success.show &&\n                <SuccessAlert text={`(${alerts.success.count}) The product has been added successfully!`}\n                              hideAlert={this.hideSuccessAlert}/>\n                }\n                {alerts.error.show &&\n                <ErrorAlert text={`(${alerts.error.count}) The product has not been added due to an error.`}\n                            hideAlert={this.hideErrorAlert}/>\n                }\n                <div className=\"container-fluid content-padding\">\n                    {\n                        grid.map((gridRow, key) =>\n                            <GridRow productsRow={gridRow}\n                                     addProduct={this.addProduct}\n                                     disabled={this.state.loading}\n                                     show={this.isLoggedIn()}\n                                     key={key}/>)\n                    }\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    ...state.sessionReducer\n});\n\nconst Products = connect(mapStateToProps)(ProductsComponent);\n\nexport {Products};","import {doGet} from \"./helperDAO\";\nimport {API_GATEWAY_URL} from \"./urls\";\n\nconst fetchSystemHealth = () => doGet(`${API_GATEWAY_URL}/system/health`)\n    .catch(e => console.log(`Error when retrieving system health: ${e}`));\n\nexport {fetchSystemHealth};","import React from \"react\";\n\nconst Loading = () => <h1>System is currently loading. Wait for a couple of minutes and try again. Thanks!</h1>;\n\nexport {Loading};","import {Products} from \"./routes/products/Products\";\nimport React from \"react\";\nimport {fetchSystemHealth} from \"./common/systemHealthDAO\";\nimport {Loading} from \"./Loading\";\n\nclass App extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.loadSystemStatus();\n        setTimeout(() => this.setState({initialTimeoutPassed: true}), 2000);\n    }\n\n    state = {\n        systemStatus: undefined,\n        initialTimeoutPassed: false\n    };\n\n    loadSystemStatus = () => fetchSystemHealth()\n        .then(systemStatus => this.setState({systemStatus}));\n\n    isSystemUp = () => this.state.systemStatus &&\n        this.state.systemStatus.services\n            .map(service => service.status)\n            .reduce((acc, status) => status === 'UP' && acc, true);\n\n    render() {\n        return (\n            <React.Fragment>\n                {this.isSystemUp() && <Products/>}\n                {!this.isSystemUp() && this.state.initialTimeoutPassed && <Loading/>}\n            </React.Fragment>\n        );\n    }\n}\n\nexport {App}","import React from 'react';\nimport {Link} from \"react-router-dom\";\n\nclass Orders extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.loadOrders();\n    }\n\n    state = {\n        orders: []\n    };\n\n    loadOrders = () => this.props.fetchOrders()\n        .then(orders => this.setState({orders}));\n\n    render() {\n        const {orders} = this.state;\n        return (\n            <div className=\"container content-padding\">\n                <div className=\"row justify-content-center\">\n                    <div className=\"col-12\">\n                        <h1>{this.props.title}</h1>\n                        {orders && orders.length > 0 &&\n                        <table className=\"table\">\n                            <thead className=\"thead-light text-center\">\n                            <tr>\n                                <th scope=\"col\">Order id</th>\n                                <th scope=\"col\">User id</th>\n                                <th scope=\"col\">Total price</th>\n                                <th scope=\"col\">Checkout date</th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            {orders.map((order, key) => <OrderRow order={order} key={key}/>)}\n                            </tbody>\n                        </table>\n                        }\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst OrderRow = ({order}) =>\n    <tr className=\"text-center\">\n        <td><Link to={`/orders/${order.id}`}>{order.id}</Link></td>\n        <td><Link to={`/users/${order.customerId}`}>{order.customerId}</Link></td>\n        <td className=\"text-right\">{order.amount} €</td>\n        <td>{order.date}</td>\n    </tr>;\n\nexport {Orders};","import React from 'react';\nimport {Orders} from \"./Orders\";\nimport {fetchCustomerOrders} from \"./ordersDAO\";\nimport {connect} from \"react-redux\";\n\nconst MyOrdersComponent = ({sessionCustomer}) => <Orders fetchOrders={() => fetchCustomerOrders(sessionCustomer.id)}\n                                                         title='My orders'/>;\n\n\nconst mapStateToProps = state => ({\n    ...state.sessionReducer\n});\n\nconst MyOrders = connect(mapStateToProps)(MyOrdersComponent);\n\nexport {MyOrders}","import {REMOVE_SESSION_CUSTOMER, SAVE_SESSION_CUSTOMER} from \"./sessionActions\";\nimport {loadCustomerSession, removeCustomerSession, saveCustomerSession} from \"../../common/customerSession\";\n\nconst initialState = {\n    sessionCustomer: loadCustomerSession()\n};\n\nconst sessionReducer = (prevState = initialState, action) => {\n    switch (action.type) {\n\n        case SAVE_SESSION_CUSTOMER: {\n            saveCustomerSession(action.sessionCustomer);\n\n            return {\n                ...prevState,\n                sessionCustomer: action.sessionCustomer\n            };\n        }\n\n        case REMOVE_SESSION_CUSTOMER: {\n            removeCustomerSession();\n\n            return {\n                ...prevState,\n                sessionCustomer: {}\n            };\n        }\n        default: {\n            return prevState;\n        }\n    }\n};\n\nexport {sessionReducer};","import {combineReducers} from 'redux';\nimport {sessionReducer} from \"./routes/login/sessionReducer\";\n\nconst appReducer = combineReducers({\n    sessionReducer\n});\n\nexport {appReducer};","import {removeSession} from \"./sessionActions\";\nimport {connect} from \"react-redux\";\nimport {SuccessAlert} from \"../../common/Alert\";\nimport React from \"react\";\n\nconst LogoutComponent = ({removeSession}) => {\n    removeSession();\n\n    return (\n        <SuccessAlert text={`You have successfully logged out!`}/>\n    );\n};\n\nconst mapDispatchToProps = {removeSession};\n\nconst Logout = connect(undefined, mapDispatchToProps)(LogoutComponent);\n\nexport {Logout};","import React from 'react';\nimport {TextAreaInput, TextInput} from \"../../common/InputFields\";\nimport {\n    ErrorAlert,\n    hideErrorAlert,\n    hideSuccessAlert,\n    resetAlert,\n    showErrorAlert,\n    showSuccessAlert,\n    SuccessAlert\n} from \"../../common/Alert\";\nimport {isLoggedIn} from \"../../common/customerSession\";\nimport {connect} from \"react-redux\";\nimport {createProduct} from \"./productsDAO\";\n\nclass ProductCreationComponent extends React.Component {\n\n    state = {\n        product: {\n            name: '',\n            description: '',\n            price: '',\n            imageUrl: ''\n        },\n        alerts: {\n            success: resetAlert(),\n            error: resetAlert()\n        }\n    };\n\n    createProduct = () => createProduct(this.state.product)\n        .then(product => {\n            this.setState({product});\n            this.showSuccessAlert();\n        })\n        .catch(this.showErrorAlert);\n\n    onChange = event => this.setState({\n        product: {\n            ...this.state.product,\n            [event.target.id]: event.target.value\n        }\n    });\n\n    validateForm = () => !!this.state.product.name &&\n        !!this.state.product.description &&\n        !!this.state.product.price &&\n        !!this.state.product.imageUrl &&\n        this.isLoggedIn();\n\n    showSuccessAlert = () => this.setState({alerts: showSuccessAlert(this.state.alerts)});\n\n    showErrorAlert = () => this.setState({alerts: showErrorAlert(this.state.alerts)});\n\n    hideSuccessAlert = () => this.setState({alerts: hideSuccessAlert(this.state.alerts)});\n\n    hideErrorAlert = () => this.setState({alerts: hideErrorAlert(this.state.alerts)});\n\n    isLoggedIn = () => isLoggedIn(this.props.sessionCustomer);\n\n    render() {\n        const {alerts} = this.state;\n\n        return (\n            <React.Fragment>\n                {alerts.success.show &&\n                <SuccessAlert text={`(${alerts.success.count}) The product has been created successfully!`}\n                              hideAlert={this.hideSuccessAlert}/>\n                }\n                {alerts.error.show &&\n                <ErrorAlert text={`(${alerts.error.count}) The product has not been created due to an error.`}\n                            hideAlert={this.hideErrorAlert}/>\n                }\n                <div className=\"container content-padding\">\n                    <div className=\"row justify-content-center\">\n                        <div className=\"col-8\">\n                            <h1>Create a new product</h1>\n                            <form>\n                                <TextInput fieldName=\"name\"\n                                           label=\"Name\"\n                                           disabled={alerts.success.show}\n                                           onChange={this.onChange}/>\n                                <TextAreaInput fieldName=\"description\"\n                                               label=\"Description\"\n                                               disabled={alerts.success.show}\n                                               onChange={this.onChange}/>\n                                <TextInput fieldName=\"price\"\n                                           label=\"Price (in €)\"\n                                           disabled={alerts.success.show}\n                                           onChange={this.onChange}/>\n                                <TextInput fieldName=\"imageUrl\"\n                                           label=\"Image url\"\n                                           disabled={alerts.success.show}\n                                           onChange={this.onChange}/>\n                                <div className=\"form-group row\">\n                                    <div className=\"col-sm-10\">\n                                        <button type=\"button\"\n                                                onClick={this.createProduct}\n                                                disabled={!this.validateForm() || alerts.success.show}\n                                                className=\"btn btn-primary\">\n                                            Create\n                                        </button>\n                                    </div>\n                                </div>\n                            </form>\n                        </div>\n                        <div className=\"col-4 d-flex align-items-center align-self-center flex-column\">\n                            <img src={this.state.product.imageUrl} alt=\"\"/>\n                            {!this.state.product.imageUrl &&\n                            <div>Image preview</div>\n                            }\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    ...state.sessionReducer\n});\n\nconst ProductCreation = connect(mapStateToProps)(ProductCreationComponent);\n\nexport {ProductCreation};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom'\nimport {Navbar} from \"./common/Navbar\";\nimport {Users} from \"./routes/users/Users\";\nimport {Cart} from \"./routes/cart/Cart\";\nimport {User} from \"./routes/users/User\";\nimport {Product} from \"./routes/products/Product\";\nimport {Error404} from \"./routes/error/Error404\";\nimport {Signup} from \"./routes/login/Signup\";\nimport {Login} from \"./routes/login/Login\";\nimport {Order} from \"./routes/orders/Order\";\nimport {App} from \"./App\";\nimport {MyOrders} from \"./routes/orders/MyOrders\";\nimport {AllOrders} from \"./routes/orders/AllOrders\";\nimport {Provider} from 'react-redux'\nimport {configureStore} from './store';\nimport {Logout} from \"./routes/login/Logout\";\nimport {ProductCreation} from \"./routes/products/ProductCreation\";\n\nconst routing = (\n    <Router>\n        <Navbar/>\n        <Switch>\n            <Route path=\"/login\" component={Login}/>\n            <Route path=\"/logout\" component={Logout}/>\n            <Route path=\"/signup\" component={Signup}/>\n            <Route path=\"/cart\" component={Cart}/>\n            <Route path=\"/orders/:id\" component={Order}/>\n            <Route path=\"/orders\" component={AllOrders}/>\n            <Route path=\"/myOrders\" component={MyOrders}/>\n            <Route path=\"/users/:id\" component={User}/>\n            <Route path=\"/users\" component={Users}/>\n            <Route path=\"/products/create\" component={ProductCreation}/>\n            <Route path=\"/products/:id\" component={Product}/>\n            <Route exact path=\"/\" component={App}/>\n            <Route component={Error404}/>\n        </Switch>\n    </Router>\n);\n\nReactDOM.render(\n    <Provider store={configureStore()}>\n        {routing}\n    </Provider>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\nimport {Orders} from \"./Orders\";\nimport {fetchOrders} from \"./ordersDAO\";\n\nconst AllOrders = () => <Orders fetchOrders={fetchOrders} title='All customer orders'/>\n\nexport {AllOrders}","import React from 'react'\n\nconst Error404 = () => <h1 className=\"container content-padding\">Not found</h1>;\n\nexport {Error404};","import {applyMiddleware, createStore} from 'redux';\nimport thunk from 'redux-thunk';\nimport {appReducer} from \"./appReducer\";\n\n\nconst configureStore = () => {\n    return createStore(\n        appReducer,\n        applyMiddleware(thunk)\n    );\n};\n\nexport {configureStore};"],"sourceRoot":""}