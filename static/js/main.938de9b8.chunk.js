(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(40)},30:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),l=a.n(c);a(30),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(31);var o=a(1),s=a(11),m=a(13),i=a(6),u=a(7),d=a(9),E=a(8),p=a(10),h=function(e){return fetch(e,{method:"GET",headers:{Accept:"application/json"}}).then(function(e){if(e.ok)return e.json();console.log("Response not ok: ".concat(e.status))})},v="https://api-gateway-ws.herokuapp.com",f={CUSTOMERS_WS:"".concat(v,"/customers-ws"),PRODUCTS_WS:"".concat(v,"/products-ws")},b=function(){return h("".concat(f.CUSTOMERS_WS,"/customers/")).catch(function(e){return console.log("Error when retrieving users: ".concat(e))})},g=function(e){return h("".concat(f.CUSTOMERS_WS,"/customers/").concat(e)).catch(function(t){return console.log("Error when retrieving user ".concat(e,": ").concat(t))})},N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(E.a)(t).call(this,e))).state={users:[]},a.loadUsers=function(){return b().then(function(e){return a.setState({users:e})})},a.loadUsers(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container content-padding"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-8"},this.state.users&&this.state.users.length>0&&r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-light text-center"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"User id"),r.a.createElement("th",{scope:"col"},"Email address"),r.a.createElement("th",{scope:"col"},"Full name"),r.a.createElement("th",{scope:"col"},"Registration date"))),r.a.createElement("tbody",null,this.state.users.map(function(e,t){return r.a.createElement(y,{user:e,key:t})}))))))}}]),t}(r.a.Component),y=function(e){var t=e.user;return r.a.createElement("tr",{className:"text-center"},r.a.createElement("th",{scope:"row"},t.id),r.a.createElement("td",null,r.a.createElement(o.b,{to:"/users/".concat(t.id)},t.email)),r.a.createElement("td",null,t.fullName),r.a.createElement("td",null,t.creationDate))},w=a(15),C=function(e){return h("".concat(f.PRODUCTS_WS,"/customers/").concat(e)).catch(function(t){return console.log("Error when retrieving product ".concat(e,": ").concat(t))})},j=function(e){return{userId:e,products:[{product:C(10),quantity:2},{product:C(11),quantity:1},{product:C(123),quantity:3},{product:C(84),quantity:10}]}},O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(E.a)(t).call(this,e))).calculateTotalPrice=function(){return a.state.cart.products.reduce(function(e,t){return e+t.quantity*t.product.price},0)},a.onChange=function(e){return function(t){a.setState({loading:!0}),console.log(e),console.log(t.target.value)}},a.state={cart:j(),loading:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container content-padding"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-8"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-light text-center"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Product"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Price"),r.a.createElement("th",{scope:"col"},"Quantity"),r.a.createElement("th",{scope:"col"},"Total price"))),r.a.createElement("tbody",null,this.state.cart.products.map(function(t,a){return r.a.createElement(k,{cartItem:t,key:a,onChange:e.onChange(t.product),disabled:e.state.loading})}),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"5",className:"text-right"},this.calculateTotalPrice()," \u20ac")))))))}}]),t}(r.a.Component),k=function(e){var t=e.cartItem,a=e.onChange,n=e.disabled,c=(t.product.price*t.quantity).toFixed(2);return r.a.createElement("tr",{className:"text-center cart-item"},r.a.createElement("td",null,r.a.createElement(o.b,{to:"/products/".concat(t.product.id)},r.a.createElement("img",{src:t.product.imageUrl}))),r.a.createElement("td",{className:"align-middle"},t.product.name),r.a.createElement("td",{className:"align-middle text-right"},t.product.price," \u20ac"),r.a.createElement("td",{className:"align-middle"},r.a.createElement(S,{quantity:t.quantity,onChange:a,disabled:n})),r.a.createElement("td",{className:"align-middle text-right"},c," \u20ac"))},S=function(e){var t=e.quantity,a=e.onChange,n=e.disabled;return r.a.createElement("select",{onChange:a,disabled:n},Object(w.a)(Array(11).keys()).map(function(e){return r.a.createElement("option",{value:e,key:e,selected:t===e},e)}))},x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(E.a)(t).call(this,e))).state={user:void 0},a.loadUser=function(){return g(a.props.match.params.id).then(function(e){return a.setState({user:e})})},a.loadUser(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.user;return r.a.createElement("div",{className:"container content-padding"},r.a.createElement("div",{className:"row justify-content-center"},e&&r.a.createElement("div",{className:"col-8"},r.a.createElement(U,{label:"User id",value:e.id}),r.a.createElement(U,{label:"Email address",value:e.email}),r.a.createElement(U,{label:"Full name",value:e.fullName}),r.a.createElement(U,{label:"Address",value:e.address}),r.a.createElement(U,{label:"Country",value:e.country}))))}}]),t}(r.a.Component),U=function(e){var t=e.label,a=e.value;return r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 col-form-label"},t),r.a.createElement("label",{className:"col-sm-9 col-form-label"},a))},P=a(14),q=function(e){var t=e.fieldName,a=e.label,n=e.onChange;return r.a.createElement(R,{fieldName:t,label:a,onChange:n,type:"text"})},F=function(e){var t=e.fieldName,a=e.label,n=e.onChange;return r.a.createElement(R,{fieldName:t,label:a,onChange:n,type:"password"})},R=function(e){var t=e.fieldName,a=e.label,n=e.type,c=e.placeholder,l=e.onChange;return r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:t,className:"col-sm-3 col-form-label"},a),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{type:n,className:"form-control",id:t,onChange:l,placeholder:c})))},T=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",repeatPassword:"",fullName:"",address:"",country:""},a.onClick=function(){return!1},a.onChange=function(e){return a.setState(Object(P.a)({},e.target.id,e.target.value))},a.validateForm=function(){return!!a.state.email&&!!a.state.password&&!!a.state.repeatPassword&&a.state.password===a.state.repeatPassword&&!!a.state.fullName&&!!a.state.address&&!!a.state.country},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container content-padding"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-8"},r.a.createElement("form",null,r.a.createElement(q,{fieldName:"email",label:"Email address",onChange:this.onChange}),r.a.createElement(F,{fieldName:"password",label:"Password",onChange:this.onChange}),r.a.createElement(F,{fieldName:"repeatPassword",label:"Repeat password",onChange:this.onChange}),r.a.createElement(q,{fieldName:"fullName",label:"Full name",onChange:this.onChange}),r.a.createElement(q,{fieldName:"address",label:"Address",onChange:this.onChange}),r.a.createElement(q,{fieldName:"country",label:"Country",onChange:this.onChange}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("button",{type:"button",onClick:this.onClick,disabled:!this.validateForm(),className:"btn btn-primary"},"Sign up")))))))}}]),t}(r.a.Component),A=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.onClick=function(){return!1},a.onChange=function(e){return a.setState(Object(P.a)({},e.target.id,e.target.value))},a.validateForm=function(){return!!a.state.email&&!!a.state.password},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container content-padding"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-4"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email address"),r.a.createElement("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",onChange:this.onChange,placeholder:"Enter email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",id:"password",onChange:this.onChange,placeholder:"Password"})),r.a.createElement("button",{type:"button",disabled:!this.validateForm(),onClick:this.onClick,className:"btn btn-primary btn-block"},"Log in")))),r.a.createElement("div",{className:"row justify-content-center login-separator"},r.a.createElement("div",{className:"col-1"},r.a.createElement("hr",null)),r.a.createElement("div",{className:"col-auto"},"or"),r.a.createElement("div",{className:"col-1"},r.a.createElement("hr",null))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-4"},r.a.createElement(o.b,{to:"/signup"},r.a.createElement("button",{type:"button",className:"btn btn-primary btn-block"},"Sign up")))))}}]),t}(r.a.Component),W=function(e){return{id:e,amount:123.23,products:[{product:C(10),quantity:2},{product:C(11),quantity:2}],date:"2019",userId:e+"567"}},I=function(e){var t=e.order;return r.a.createElement("tr",{className:"text-center"},r.a.createElement("th",{scope:"row"},t.id),r.a.createElement("td",null,r.a.createElement(o.b,{to:"/orders/".concat(t.id)},t.id)),r.a.createElement("td",null,t.userId),r.a.createElement("td",{className:"text-right"},t.amount," \u20ac"),r.a.createElement("td",null,t.date))},_=function(e){var t=e.children,a=e.id;return r.a.createElement(o.b,{to:"/products/".concat(a)},t)},D=function(e){var t=e.product;return r.a.createElement("div",{className:"col-6 col-md-2 text-center"},r.a.createElement("div",{className:"grid-item"},r.a.createElement("div",null,r.a.createElement(_,{id:t.id},r.a.createElement("img",{src:t.imageUrl}))),r.a.createElement(_,{id:t.id},t.name),r.a.createElement("div",null,t.price," \u20ac"),r.a.createElement("button",{type:"button",className:"btn btn-primary"},"Add to cart")))},M=function(e){var t=e.productsRow;return r.a.createElement("div",{className:"row grid-row"},t.map(function(e,t){return r.a.createElement(D,{product:e,key:t})}))},B=function(e,t){var a=[];return e.map(function(e,n){return function(e,a,n){var r=Math.floor(n/t);n%t===0&&(e[r]=[]),e[r].push(a)}(a,e,n)}),a},J=r.a.createElement(o.a,null,r.a.createElement(function(e){return Object(m.a)(e),r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark"},r.a.createElement("a",{href:"/",className:"navbar-brand d-flex w-50 mr-auto"},"Boardgames online shop"),r.a.createElement("div",{className:"navbar-collapse collapse w-100",id:"collapsingNavbar3"},r.a.createElement("ul",{className:"nav navbar-nav ml-auto w-100 justify-content-end"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",to:"/users/678"},"Profile")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",to:"/cart"},"Cart")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",to:"/orders"},"Orders")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",to:"/users"},"Users")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",to:"/login"},"Log in")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",to:"/signup"},"Sign up")))))},null),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/login",component:A}),r.a.createElement(s.a,{path:"/signup",component:T}),r.a.createElement(s.a,{path:"/cart",component:O}),r.a.createElement(s.a,{path:"/orders/:id",component:function(e){var t=e.match;return r.a.createElement("div",{className:"container content-padding"},"Order ",t.params.id)}}),r.a.createElement(s.a,{path:"/orders",component:function(){var e=Object(w.a)(Array(20).keys()).map(W);return r.a.createElement("div",{className:"container content-padding"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-8"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-light text-center"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Order id"),r.a.createElement("th",{scope:"col"},"Order id"),r.a.createElement("th",{scope:"col"},"User id"),r.a.createElement("th",{scope:"col"},"Total price"),r.a.createElement("th",{scope:"col"},"Checkout date"))),r.a.createElement("tbody",null,e.map(function(e,t){return r.a.createElement(I,{order:e,key:t})}))))))}}),r.a.createElement(s.a,{path:"/users/:id",component:x}),r.a.createElement(s.a,{path:"/users",component:N}),r.a.createElement(s.a,{path:"/products/:id",component:function(e){var t=e.match,a=C(t.params.id);return r.a.createElement("div",{className:"container content-padding"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-4 text-center"},r.a.createElement("img",{src:a.imageUrl})),r.a.createElement("div",{className:"col-4 d-flex align-items-start flex-column"},r.a.createElement("div",{className:"mb-auto p-2"},r.a.createElement("h1",{className:"product-info-padding"},a.name),r.a.createElement("h5",{className:"product-info-padding"},a.price," \u20ac"),r.a.createElement("div",null,a.description)),r.a.createElement("div",{className:"p-2"},r.a.createElement("button",{type:"button",className:"btn btn-primary"},"Add to cart")))))}}),r.a.createElement(s.a,{exact:!0,path:"/",component:function(e){Object(m.a)(e);var t=B(h("".concat(f.PRODUCTS_WS,"/customers/")).catch(function(e){return console.log("Error when retrieving productss: ".concat(e))}),6);return r.a.createElement("div",{className:"container-fluid content-padding"},t.map(function(e,t){return r.a.createElement(M,{productsRow:e,key:t})}))}}),r.a.createElement(s.a,{component:function(){return r.a.createElement("h1",{className:"container content-padding"},"Not found")}})));l.a.render(J,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.938de9b8.chunk.js.map